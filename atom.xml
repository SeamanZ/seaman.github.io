<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Seaman写字的地方</title>
  
  <subtitle>爱生活，爱学习。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://seamanz.github.io/"/>
  <updated>2019-01-13T07:46:42.384Z</updated>
  <id>https://seamanz.github.io/</id>
  
  <author>
    <name>Seaman</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>APP调用系统分享文本内容</title>
    <link href="https://seamanz.github.io/2019/01/13/APP%E8%B0%83%E7%94%A8%E7%B3%BB%E7%BB%9F%E5%88%86%E4%BA%AB%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9/"/>
    <id>https://seamanz.github.io/2019/01/13/APP调用系统分享文本内容/</id>
    <published>2019-01-13T07:36:47.000Z</published>
    <updated>2019-01-13T07:46:42.384Z</updated>
    
    <content type="html"><![CDATA[<h3 id="核心代码"><a href="#核心代码" class="headerlink" title="核心代码"></a>核心代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">val action = Intent.ACTION_SEND</span><br><span class="line">val mimeType = &quot;text/plain&quot;</span><br><span class="line">val text = &quot;https://github.com&quot;</span><br><span class="line">val subject = &quot;this is a subject&quot;</span><br><span class="line">val title = &quot;Share to your friends&quot;</span><br><span class="line"></span><br><span class="line">//查询系统有哪些APP支持文本内容分享</span><br><span class="line">val queryIntent = Intent().apply &#123;</span><br><span class="line">    this.action = action</span><br><span class="line">    this.type = mimeType</span><br><span class="line">    this.putExtra(Intent.EXTRA_TEXT, text)</span><br><span class="line">    this.putExtra(Intent.EXTRA_SUBJECT, subject)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">val resolveInfoList = packageManager.queryIntentActivities(queryIntent, MATCH_DEFAULT_ONLY)</span><br><span class="line">//可选的分享应用Intent</span><br><span class="line">val initialIntents = mutableListOf&lt;LabeledIntent&gt;()</span><br><span class="line">for (info in resolveInfoList) &#123;</span><br><span class="line"></span><br><span class="line">    val appName = info.loadLabel(packageManager)</span><br><span class="line">    val activityInfo = info.activityInfo</span><br><span class="line">    val targetPackageName = activityInfo.packageName</span><br><span class="line">    val activityName = activityInfo.name</span><br><span class="line"></span><br><span class="line">    Log.v(TAG, &quot;targetPackageName = $targetPackageName  appName = $appName activityName = $activityName&quot;)</span><br><span class="line"></span><br><span class="line">    //过滤掉APP自己（在API18的模拟器上发现有BUG，这样写也不能过虑）</span><br><span class="line">    if (!this.packageName!!.contentEquals(targetPackageName)) &#123;</span><br><span class="line"></span><br><span class="line">        val intent = Intent().apply &#123;</span><br><span class="line">            this.component = ComponentName(targetPackageName, activityName)</span><br><span class="line">            this.action = action</span><br><span class="line">            this.type = mimeType</span><br><span class="line">            this.addFlags(FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET)</span><br><span class="line">            this.putExtra(Intent.EXTRA_TEXT, text)</span><br><span class="line">            this.putExtra(Intent.EXTRA_SUBJECT, subject)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        initialIntents.add(LabeledIntent(intent, targetPackageName, appName, info.icon))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (initialIntents.size &gt; 0) &#123;</span><br><span class="line">    //以APP名字来排序</span><br><span class="line">    initialIntents.sortBy &#123; it.nonLocalizedLabel.toString() &#125;</span><br><span class="line"></span><br><span class="line">    //用来创建chooserIntent的Intent的APP会被系统追加到分享选择列表的最后一项</span><br><span class="line">    val intent = initialIntents.removeAt(initialIntents.lastIndex)</span><br><span class="line"></span><br><span class="line">    val chooserIntent = if (Build.VERSION.SDK_INT &gt;= 22) &#123;</span><br><span class="line"></span><br><span class="line">        //用户选择目标应用的时候，系统会发广播到MyReceiver</span><br><span class="line">        val receiver = Intent(this, MyReceiver::class.java)</span><br><span class="line">        val pendingIntent = PendingIntent.getBroadcast(</span><br><span class="line">            this, 0, receiver, PendingIntent.FLAG_UPDATE_CURRENT</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        Intent.createChooser(intent, title, pendingIntent.intentSender)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        Intent.createChooser(intent, title)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    chooserIntent.apply &#123;</span><br><span class="line">        this.putExtra(Intent.EXTRA_INITIAL_INTENTS, initialIntents.toTypedArray())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    startActivity(chooserIntent)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="API22-及以上版本用于接收用户选中的APP的广播"><a href="#API22-及以上版本用于接收用户选中的APP的广播" class="headerlink" title="API22 及以上版本用于接收用户选中的APP的广播"></a>API22 及以上版本用于接收用户选中的APP的广播</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class MyReceiver : BroadcastReceiver() &#123;</span><br><span class="line"></span><br><span class="line">    override fun onReceive(context: Context, intent: Intent) &#123;</span><br><span class="line">        // This method is called when the BroadcastReceiver is receiving an Intent broadcast.</span><br><span class="line">        Log.v(TAG, &quot;onReceive = $intent&quot;)</span><br><span class="line">        intent.extras?.let &#123; bundle -&gt;</span><br><span class="line">            for (key in bundle.keySet()) &#123;</span><br><span class="line">                Log.v(TAG, &quot;onReceive key = $key&quot;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP_MR1) &#123;</span><br><span class="line"></span><br><span class="line">                val componentName = bundle[Intent.EXTRA_CHOSEN_COMPONENT] as ComponentName</span><br><span class="line">                Log.v(TAG, &quot;onReceive componentName = $componentName&quot;)</span><br><span class="line"></span><br><span class="line">                val pm = context.packageManager</span><br><span class="line"></span><br><span class="line">                //取得用户选中选的应用名字</span><br><span class="line">                val applicationLabel = pm.getApplicationLabel(pm.getApplicationInfo(componentName.packageName, 0))</span><br><span class="line">                Log.v(TAG, &quot;onReceive applicationLabel = $applicationLabel&quot;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    companion object &#123;</span><br><span class="line">        const val TAG = &quot;MyReceiver&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> </p><h3 id="广播接收者采用静态注册形式"><a href="#广播接收者采用静态注册形式" class="headerlink" title="广播接收者采用静态注册形式"></a>广播接收者采用静态注册形式</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;receiver</span><br><span class="line">               android:name=&quot;.MyReceiver&quot;</span><br><span class="line">               android:enabled=&quot;true&quot;</span><br><span class="line">               android:exported=&quot;true&quot;/&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;核心代码&quot;&gt;&lt;a href=&quot;#核心代码&quot; class=&quot;headerlink&quot; title=&quot;核心代码&quot;&gt;&lt;/a&gt;核心代码&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
      
    
    </summary>
    
    
      <category term="Android" scheme="https://seamanz.github.io/tags/Android/"/>
    
      <category term="Kotlin" scheme="https://seamanz.github.io/tags/Kotlin/"/>
    
  </entry>
  
  <entry>
    <title>密码强度计算</title>
    <link href="https://seamanz.github.io/2018/12/02/%E5%AF%86%E7%A0%81%E5%BC%BA%E5%BA%A6%E8%AE%A1%E7%AE%97/"/>
    <id>https://seamanz.github.io/2018/12/02/密码强度计算/</id>
    <published>2018-12-02T08:27:45.000Z</published>
    <updated>2019-01-13T07:46:32.866Z</updated>
    
    <content type="html"><![CDATA[<p>最近公司Android项目有个需求是根据用户输入的密码计算强度分数，密码强度计算逻辑如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">密码强度规则：</span><br><span class="line"></span><br><span class="line">符合密码基本规则者为70分。</span><br><span class="line"></span><br><span class="line">＋(总字符数－8) × 4</span><br><span class="line">＋(字母字符数－大写字母字符数) × (字母字符数 －小写字母字符数) × 2</span><br><span class="line">－(接连重复字符数) × 2</span><br><span class="line">－(接连数字字符数－3) × 1</span><br><span class="line">－(接连字母字符数－3) × 1</span><br><span class="line">－(3码以上的连续数字) × 3</span><br><span class="line">－(3码以上的连续字母) × 3</span><br><span class="line">规则： 总分低於60者为弱(weak)，高于80者（含）为强(strong)，介於兩者之间为中等(medium)。</span><br><span class="line"></span><br><span class="line">举例： 1234567890a的最后分数</span><br><span class="line">70+(11-8)x4+(1-0)x(1-1)x2-(0x2)-(10-3)x1-(0-3)x1-(10x3)-(0x3)</span><br><span class="line"></span><br><span class="line">例子：</span><br><span class="line"></span><br><span class="line">接连重复字符数：指连续重复的字符，如123775ab，此项就是 -2x2；如果12336588aab，接连重复字符数就是6（33、88、aa）</span><br><span class="line">接连数字字符数：指连续为数字的字符，如123775ab，此项就是 -(6-3)x1</span><br><span class="line">接连字母字符数：指连续为字母的字符，如123775ab，此项就是 -(2-3)x1</span><br><span class="line">3码以上的连续数字：指连着3个以上的连续数字，如12345678a，此项就是 -8x3</span><br><span class="line">3码以上的连续字母：指连着3个以上的连续字母</span><br></pre></td></tr></table></figure><p>看了以上规则，我刚开始想到的是查询Java有由哪些API可以方便的操作字符，然后通过遍历字符串的字符来处理。经过查看API确定了字符处理类 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html" target="_blank" rel="noopener">java.lang.Character</a>，根据需求这里用到方法如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//判断字符是否是字母</span><br><span class="line">java.lang.Character#isLetter(char)</span><br><span class="line"></span><br><span class="line">//判断字符是否是数字</span><br><span class="line">java.lang.Character#isDigit(char)</span><br><span class="line"></span><br><span class="line">//判断字符是否是数字或者字母</span><br><span class="line">java.lang.Character#isLetterOrDigit(char)</span><br><span class="line"></span><br><span class="line">//判断字符是否是小写</span><br><span class="line">java.lang.Character#isLowerCase(char)</span><br><span class="line"></span><br><span class="line">//判断字符是否是大写</span><br><span class="line">java.lang.Character#isUpperCase(char)</span><br></pre></td></tr></table></figure><p>使用以上方法，我用一个for循环实现了需求。但经过反思感觉实现方式不太好，而且容易出错思路也不清晰，所以把方向转向正则表达式。经过查询资料，找到另一种实现方式。</p><blockquote><p>首先把规则一条条拆开，一条条实现。</p></blockquote><h3 id="1-计算字母字符数"><a href="#1-计算字母字符数" class="headerlink" title="1. 计算字母字符数"></a>1. 计算字母字符数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//字母字符</span><br><span class="line">val letterPattern = Pattern.compile(&quot;[a-zA-Z]+&quot;)!!</span><br><span class="line">//小写字母字符</span><br><span class="line">val lowerLetterPattern = Pattern.compile(&quot;[a-z]+&quot;)!!</span><br><span class="line">//大写字母字符</span><br><span class="line">val upperLetterPattern = Pattern.compile(&quot;[A-Z]+&quot;)!!</span><br><span class="line"></span><br><span class="line">private fun getLetterCount(text: String, type: Int): Int &#123;</span><br><span class="line">       val matcher = when (type) &#123;</span><br><span class="line">           1 -&gt; lowerLetterPattern.matcher(text)</span><br><span class="line">           2 -&gt; upperLetterPattern.matcher(text)</span><br><span class="line">           else -&gt; letterPattern.matcher(text)</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       var count = 0</span><br><span class="line">       while (matcher.find()) &#123;</span><br><span class="line">           count += matcher.group().length</span><br><span class="line">       &#125;</span><br><span class="line">       return count</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="2-计算接连字符数"><a href="#2-计算接连字符数" class="headerlink" title="2. 计算接连字符数"></a>2. 计算接连字符数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//接连重复字符数</span><br><span class="line">val repeatGroupPattern = Pattern.compile(&quot;([0-9a-zA-Z])\\1+&quot;)!!</span><br><span class="line">//接连数字字符数</span><br><span class="line">val digitGroupPattern = Pattern.compile(&quot;[0-9]&#123;2,&#125;&quot;)!!</span><br><span class="line">//接连字母字符数</span><br><span class="line">val letterGroupPattern = Pattern.compile(&quot;[a-zA-Z]&#123;2,&#125;&quot;)!!</span><br><span class="line"></span><br><span class="line">private fun getGroupCharCount(text: String, type: Int): Pair&lt;Int, MutableList&lt;String&gt;&gt; &#123;</span><br><span class="line">       val matcher = when (type) &#123;</span><br><span class="line">           0 -&gt; repeatGroupPattern.matcher(text)</span><br><span class="line">           1 -&gt; digitGroupPattern.matcher(text)</span><br><span class="line">           else -&gt; letterGroupPattern.matcher(text)</span><br><span class="line">       &#125;</span><br><span class="line">       var count = 0</span><br><span class="line">       val groups = mutableListOf&lt;String&gt;()</span><br><span class="line">       while (matcher.find()) &#123;</span><br><span class="line">           val group = matcher.group()</span><br><span class="line">           count += group.length</span><br><span class="line">           groups.add(group)</span><br><span class="line">       &#125;</span><br><span class="line">       return count to groups</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="3-有序的连续增量字符（这个只能通过比较字符ASCII实现）"><a href="#3-有序的连续增量字符（这个只能通过比较字符ASCII实现）" class="headerlink" title="3. 有序的连续增量字符（这个只能通过比较字符ASCII实现）"></a>3. 有序的连续增量字符（这个只能通过比较字符ASCII实现）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">//3码以上的连续数字</span><br><span class="line">//3码以上的连续字母</span><br><span class="line">private fun getOrderCharGroups(text: String, type: Int): Pair&lt;Int, MutableList&lt;String&gt;&gt; &#123;</span><br><span class="line"></span><br><span class="line">       val indices = text.indices</span><br><span class="line"></span><br><span class="line">       val groups = mutableListOf&lt;String&gt;()</span><br><span class="line"></span><br><span class="line">       var hasNext: Boolean</span><br><span class="line">       var startIndex = 0 //每组连续字符的开始位置索引</span><br><span class="line">       var hitCount = 0 //每组连续字符的个数</span><br><span class="line">       var totalCount = 0 //所有连续字符的总个数</span><br><span class="line">       for (index in indices) &#123;</span><br><span class="line">           hitCount += 1</span><br><span class="line">           val curChar = text[index]</span><br><span class="line">           //是否有连续的下一项</span><br><span class="line">           hasNext = if (index + 1 in indices) &#123;</span><br><span class="line">               val nextChar = text[index + 1]</span><br><span class="line">               curChar + 1 == nextChar</span><br><span class="line">           &#125; else &#123;</span><br><span class="line">               false</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           //连续字符结束，记录起来</span><br><span class="line">           if (!hasNext) &#123;</span><br><span class="line">               if (hitCount &gt;= 3) &#123;</span><br><span class="line">                   if (type == 0 &amp;&amp; curChar.isDigit()) &#123; //数字连续字符</span><br><span class="line">                       totalCount += hitCount</span><br><span class="line">                       groups.add(text.substring(startIndex, startIndex + hitCount))</span><br><span class="line">                   &#125; else if (type == 1 &amp;&amp; curChar.isLetter()) &#123; //字母连续字符</span><br><span class="line">                       totalCount += hitCount</span><br><span class="line">                       groups.add(text.substring(startIndex, startIndex + hitCount))</span><br><span class="line">                   &#125;</span><br><span class="line"></span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               hitCount = 0</span><br><span class="line">               startIndex = index + 1</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       return totalCount to groups</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ul><li><h3 id="最后就是计算总分逻辑"><a href="#最后就是计算总分逻辑" class="headerlink" title="最后就是计算总分逻辑"></a>最后就是计算总分逻辑</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">private fun calculateSecurityScore(text: String) &#123;</span><br><span class="line"></span><br><span class="line">        //密码强度规则：</span><br><span class="line">        //</span><br><span class="line">        //符合密码基本规则者为70分。</span><br><span class="line">        //</span><br><span class="line">        //    ＋(总字符数－8) × 4</span><br><span class="line">        //    ＋(字母字符数－大写字母字符数) × (字母字符数 －小写字母字符数) × 2</span><br><span class="line">        //    －(接连重复字符数) × 2</span><br><span class="line">        //    －(接连数字字符数－3) × 1</span><br><span class="line">        //    －(接连字母字符数－3) × 1</span><br><span class="line">        //    －(3码以上的连续数字) × 3</span><br><span class="line">        //    －(3码以上的连续字母) × 3</span><br><span class="line">        //</span><br><span class="line">        //规则：</span><br><span class="line">        //    总分低於60者为弱(weak)，高于80者（含）为强(strong)，介於兩者之间为中等(medium)。</span><br><span class="line">        //</span><br><span class="line">        //举例：</span><br><span class="line">        //1234567890a的最后分数</span><br><span class="line">        //70+ （11-8）*4 +（1-0）*（1-1）*2 - （0*2） -（10-3）*1 - （0-3）*1 -（10*3）-（0*3）</span><br><span class="line"></span><br><span class="line">        //字母字符数</span><br><span class="line">        val letterCount = getLetterCount(text, 0)</span><br><span class="line">        //小写字母字符数</span><br><span class="line">        val lowerLetterCount = getLetterCount(text, 1)</span><br><span class="line">        //大写字母字符数</span><br><span class="line">        val upperLetterCount = getLetterCount(text, 2)</span><br><span class="line">        //接连重复字符数</span><br><span class="line">        val (repeatCount, repeatGroups) = getGroupCharCount(text, 0)</span><br><span class="line">        //接连数字字符数</span><br><span class="line">        val (continueDigitCount, continueDigitGroups) = getGroupCharCount(text, 1)</span><br><span class="line">        //接连字母字符数</span><br><span class="line">        val (continueLetterCount, continueLetterGroups) = getGroupCharCount(text, 2)</span><br><span class="line">        //3码以上的连续数字数</span><br><span class="line">        val (orderDigitCount, orderDigitGroups) = getOrderCharGroups(text, 0)</span><br><span class="line">        //3码以上的连续字母数</span><br><span class="line">        val (orderLetterCount, orderLetterGroups) = getOrderCharGroups(text, 1)</span><br><span class="line"></span><br><span class="line">        var totalScore = 70</span><br><span class="line"></span><br><span class="line">        //＋(总字符数－8) × 4</span><br><span class="line">        val score1 = (text.length - 8) * 4</span><br><span class="line">        totalScore += score1</span><br><span class="line"></span><br><span class="line">        //＋(字母字符数－大写字母字符数) × (字母字符数 －小写字母字符数) × 2</span><br><span class="line">        val score2 = (letterCount - upperLetterCount) * (letterCount - lowerLetterCount) * 2</span><br><span class="line">        totalScore += score2</span><br><span class="line"></span><br><span class="line">        //－(接连重复字符数) × 2</span><br><span class="line">        val score3 = repeatCount * 2</span><br><span class="line">        totalScore -= score3</span><br><span class="line"></span><br><span class="line">        //－(接连数字字符数－3) × 1</span><br><span class="line">        val score4 = (continueDigitCount - 3) * 1</span><br><span class="line">        totalScore -= score4</span><br><span class="line"></span><br><span class="line">        //－(接连字母字符数－3) × 1</span><br><span class="line">        val score5 = (continueLetterCount - 3) * 1</span><br><span class="line">        totalScore -= score5</span><br><span class="line"></span><br><span class="line">        //－(3码以上的连续数字) × 3</span><br><span class="line">        val score6 = orderDigitCount * 3</span><br><span class="line">        totalScore -= score6</span><br><span class="line"></span><br><span class="line">        //－(3码以上的连续字母) × 3</span><br><span class="line">        val score7 = orderLetterCount * 3</span><br><span class="line">        totalScore -= score7</span><br><span class="line"></span><br><span class="line">        val textShow = &quot;总字符数 = $&#123;text.length&#125;\n&quot; +</span><br><span class="line">                &quot;字母字符数 = $letterCount\n&quot; +</span><br><span class="line">                &quot;小写字母字符数 = $lowerLetterCount\n&quot; +</span><br><span class="line">                &quot;大写字母字符数 = $upperLetterCount\n&quot; +</span><br><span class="line">                &quot;接连重复字符数 = $repeatCount\n$repeatGroups\n&quot; +</span><br><span class="line">                &quot;接连数字字符数 = $continueDigitCount\n$continueDigitGroups\n&quot; +</span><br><span class="line">                &quot;接连字母字符数 = $continueLetterCount\n$continueLetterGroups\n&quot; +</span><br><span class="line">                &quot;3码以上的连续数字数 = $orderDigitCount\n$orderDigitGroups\n&quot; +</span><br><span class="line">                &quot;3码以上的连续字母数 = $orderLetterCount\n$orderLetterGroups\n&quot; +</span><br><span class="line">                &quot;总分：$totalScore = 70 + ($score1) + ($score2) - ($score3) - ($score4) - ($score5) - ($score6) - ($score7)&quot;</span><br><span class="line">        Log.v(</span><br><span class="line">            TAG, textShow</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        securityScore.text = textShow</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;最近公司Android项目有个需求是根据用户输入的密码计算强度分数，密码强度计算逻辑如下：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1
      
    
    </summary>
    
    
      <category term="Android" scheme="https://seamanz.github.io/tags/Android/"/>
    
      <category term="Kotlin" scheme="https://seamanz.github.io/tags/Kotlin/"/>
    
      <category term="Java" scheme="https://seamanz.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Android 使用 Spannable 设置样式</title>
    <link href="https://seamanz.github.io/2018/08/09/Android-%E4%BD%BF%E7%94%A8-Spannable-%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F/"/>
    <id>https://seamanz.github.io/2018/08/09/Android-使用-Spannable-设置样式/</id>
    <published>2018-08-09T15:24:07.000Z</published>
    <updated>2018-08-09T15:25:52.750Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://developer.android.google.cn/reference/android/text/Spannable" target="_blank" rel="noopener">Spannable</a> 是一种文本对象，让您可以使用颜色和字体粗细等字体属性进行样式设置。 您可以使用 <a href="https://developer.android.google.cn/reference/android/text/SpannableStringBuilder" target="_blank" rel="noopener">SpannableStringBuilder</a> 生成文本，然后对文本应用 <a href="https://developer.android.google.cn/reference/android/text/style/package-summary" target="_blank" rel="noopener">android.text.style</a> 包中定义的样式。</p><p>您可以利用下列辅助工具方法来设置许多 spannable 文本创建工作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Returns a CharSequence that concatenates the specified array of CharSequence</span><br><span class="line"> * objects and then applies a list of zero or more tags to the entire range.</span><br><span class="line"> *</span><br><span class="line"> * @param content an array of character sequences to apply a style to</span><br><span class="line"> * @param tags the styled span objects to apply to the content</span><br><span class="line"> *        such as android.text.style.StyleSpan</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">private static CharSequence apply(CharSequence[] content, Object... tags) &#123;</span><br><span class="line">    SpannableStringBuilder text = new SpannableStringBuilder();</span><br><span class="line">    openTags(text, tags);</span><br><span class="line">    for (CharSequence item : content) &#123;</span><br><span class="line">        text.append(item);</span><br><span class="line">    &#125;</span><br><span class="line">    closeTags(text, tags);</span><br><span class="line">    return text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Iterates over an array of tags and applies them to the beginning of the specified</span><br><span class="line"> * Spannable object so that future text appended to the text will have the styling</span><br><span class="line"> * applied to it. Do not call this method directly.</span><br><span class="line"> */</span><br><span class="line">private static void openTags(Spannable text, Object[] tags) &#123;</span><br><span class="line">    for (Object tag : tags) &#123;</span><br><span class="line">        text.setSpan(tag, 0, 0, Spannable.SPAN_MARK_MARK);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &quot;Closes&quot; the specified tags on a Spannable by updating the spans to be</span><br><span class="line"> * endpoint-exclusive so that future text appended to the end will not take</span><br><span class="line"> * on the same styling. Do not call this method directly.</span><br><span class="line"> */</span><br><span class="line">private static void closeTags(Spannable text, Object[] tags) &#123;</span><br><span class="line">    int len = text.length();</span><br><span class="line">    for (Object tag : tags) &#123;</span><br><span class="line">        if (len &gt; 0) &#123;</span><br><span class="line">            text.setSpan(tag, 0, len, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            text.removeSpan(tag);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以下 <strong>bold</strong>、<strong>italic</strong> 和 <strong>color</strong> 方法向您展示了如何调用这些帮助程序方法来应用 <a href="https://developer.android.google.cn/reference/android/text/style/package-summary" target="_blank" rel="noopener">android.text.style</a> 包中定义的样式。 您可以创建类似方法来进行其他类型的文本样式设置。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Returns a CharSequence that applies boldface to the concatenation</span><br><span class="line"> * of the specified CharSequence objects.</span><br><span class="line"> */</span><br><span class="line">public static CharSequence bold(CharSequence... content) &#123;</span><br><span class="line">    return apply(content, new StyleSpan(Typeface.BOLD));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Returns a CharSequence that applies italics to the concatenation</span><br><span class="line"> * of the specified CharSequence objects.</span><br><span class="line"> */</span><br><span class="line">public static CharSequence italic(CharSequence... content) &#123;</span><br><span class="line">    return apply(content, new StyleSpan(Typeface.ITALIC));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Returns a CharSequence that applies a foreground color to the</span><br><span class="line"> * concatenation of the specified CharSequence objects.</span><br><span class="line"> */</span><br><span class="line">public static CharSequence color(int color, CharSequence... content) &#123;</span><br><span class="line">    return apply(content, new ForegroundColorSpan(color));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面这个示例展示了如何将这些方法链接起来，创建出对不同词语应用不同类型样式的字符序列：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Create an italic &quot;hello, &quot; a red &quot;world&quot;,</span><br><span class="line">// and bold the entire sequence.</span><br><span class="line">CharSequence text = bold(italic(res.getString(R.string.hello)),</span><br><span class="line">    color(Color.RED, res.getString(R.string.world)));</span><br></pre></td></tr></table></figure><p>完整代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import android.graphics.Typeface;</span><br><span class="line">import android.text.Spannable;</span><br><span class="line">import android.text.SpannableStringBuilder;</span><br><span class="line">import android.text.Spanned;</span><br><span class="line">import android.text.style.ForegroundColorSpan;</span><br><span class="line">import android.text.style.StyleSpan;</span><br><span class="line"></span><br><span class="line">public class SpannableUtil &#123;</span><br><span class="line">    /**</span><br><span class="line">     * Returns a CharSequence that concatenates the specified array of CharSequence</span><br><span class="line">     * objects and then applies a list of zero or more tags to the entire range.</span><br><span class="line">     *</span><br><span class="line">     * @param content an array of character sequences to apply a style to</span><br><span class="line">     * @param tags    the styled span objects to apply to the content</span><br><span class="line">     *                such as android.text.style.StyleSpan</span><br><span class="line">     */</span><br><span class="line">    private static CharSequence apply(CharSequence[] content, Object... tags) &#123;</span><br><span class="line">        SpannableStringBuilder text = new SpannableStringBuilder();</span><br><span class="line">        openTags(text, tags);</span><br><span class="line">        for (CharSequence item : content) &#123;</span><br><span class="line">            text.append(item);</span><br><span class="line">        &#125;</span><br><span class="line">        closeTags(text, tags);</span><br><span class="line">        return text;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Iterates over an array of tags and applies them to the beginning of the specified</span><br><span class="line">     * Spannable object so that future text appended to the text will have the styling</span><br><span class="line">     * applied to it. Do not call this method directly.</span><br><span class="line">     */</span><br><span class="line">    private static void openTags(Spannable text, Object[] tags) &#123;</span><br><span class="line">        for (Object tag : tags) &#123;</span><br><span class="line">            text.setSpan(tag, 0, 0, Spannable.SPAN_MARK_MARK);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &quot;Closes&quot; the specified tags on a Spannable by updating the spans to be</span><br><span class="line">     * endpoint-exclusive so that future text appended to the end will not take</span><br><span class="line">     * on the same styling. Do not call this method directly.</span><br><span class="line">     */</span><br><span class="line">    private static void closeTags(Spannable text, Object[] tags) &#123;</span><br><span class="line">        int len = text.length();</span><br><span class="line">        for (Object tag : tags) &#123;</span><br><span class="line">            if (len &gt; 0) &#123;</span><br><span class="line">                text.setSpan(tag, 0, len, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                text.removeSpan(tag);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Returns a CharSequence that applies boldface to the concatenation</span><br><span class="line">     * of the specified CharSequence objects.</span><br><span class="line">     */</span><br><span class="line">    public static CharSequence bold(CharSequence... content) &#123;</span><br><span class="line">        return apply(content, new StyleSpan(Typeface.BOLD));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Returns a CharSequence that applies italics to the concatenation</span><br><span class="line">     * of the specified CharSequence objects.</span><br><span class="line">     */</span><br><span class="line">    public static CharSequence italic(CharSequence... content) &#123;</span><br><span class="line">        return apply(content, new StyleSpan(Typeface.ITALIC));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Returns a CharSequence that applies a foreground color to the</span><br><span class="line">     * concatenation of the specified CharSequence objects.</span><br><span class="line">     */</span><br><span class="line">    public static CharSequence color(int color, CharSequence... content) &#123;</span><br><span class="line">        return apply(content, new ForegroundColorSpan(color));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Returns a CharSequence that applies style to the</span><br><span class="line">     * concatenation of the specified CharSequence objects.</span><br><span class="line">     */</span><br><span class="line">    public static CharSequence applyStyle(Object tag, CharSequence... content) &#123;</span><br><span class="line">        return apply(content, tag);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>参考：<a href="https://developer.android.google.cn/guide/topics/resources/string-resource#Plurals" target="_blank" rel="noopener">字符串资源</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://developer.android.google.cn/reference/android/text/Spannable&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Spannable&lt;/a&gt; 是一种文本对象，让您可以使
      
    
    </summary>
    
    
      <category term="Android" scheme="https://seamanz.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android一些资源尺寸数据</title>
    <link href="https://seamanz.github.io/2018/08/08/Android%E4%B8%80%E4%BA%9B%E8%B5%84%E6%BA%90%E5%B0%BA%E5%AF%B8%E6%95%B0%E6%8D%AE/"/>
    <id>https://seamanz.github.io/2018/08/08/Android一些资源尺寸数据/</id>
    <published>2018-08-08T15:09:45.000Z</published>
    <updated>2018-08-08T15:10:18.147Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-桌面APP启动图标尺寸"><a href="#1-桌面APP启动图标尺寸" class="headerlink" title="1. 桌面APP启动图标尺寸"></a>1. 桌面APP启动图标尺寸</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">48×48 px (48×48 dp @ mdpi)  </span><br><span class="line">64×64 px (42×42 dp @ hdpi)</span><br><span class="line">96×96 px (48×48 dp @ xhdpi)</span><br><span class="line">144×144 px (48×48 dp @ xxhdpi)</span><br><span class="line">192×192 px (48×48 dp @ xxxhdpi)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-桌面APP启动图标尺寸&quot;&gt;&lt;a href=&quot;#1-桌面APP启动图标尺寸&quot; class=&quot;headerlink&quot; title=&quot;1. 桌面APP启动图标尺寸&quot;&gt;&lt;/a&gt;1. 桌面APP启动图标尺寸&lt;/h3&gt;&lt;figure class=&quot;highlight pl
      
    
    </summary>
    
    
      <category term="Android" scheme="https://seamanz.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>google-services插件「No match found」BUG</title>
    <link href="https://seamanz.github.io/2018/08/08/google-services%E6%8F%92%E4%BB%B6%E3%80%8CNo-match-found%E3%80%8DBUG/"/>
    <id>https://seamanz.github.io/2018/08/08/google-services插件「No-match-found」BUG/</id>
    <published>2018-08-08T14:44:40.000Z</published>
    <updated>2018-08-08T15:03:21.989Z</updated>
    
    <content type="html"><![CDATA[<h3 id="当productFlavors的flavor名以大写字母开头时候，Gradle同步时候会出现「No-match-found」BUG，解决方法flavor名以小写字母开头"><a href="#当productFlavors的flavor名以大写字母开头时候，Gradle同步时候会出现「No-match-found」BUG，解决方法flavor名以小写字母开头" class="headerlink" title="- 当productFlavors的flavor名以大写字母开头时候，Gradle同步时候会出现「No match found」BUG，解决方法flavor名以小写字母开头"></a>- 当productFlavors的flavor名以大写字母开头时候，Gradle同步时候会出现「No match found」BUG，解决方法flavor名以小写字母开头</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">flavorDimensions &quot;CHANNEL&quot;</span><br><span class="line">productFlavors &#123;</span><br><span class="line"></span><br><span class="line">    //GooglePlay 应用市场</span><br><span class="line">    //GooglePlay &#123; 这么写报错「No match found」</span><br><span class="line">    googlePlay &#123;</span><br><span class="line">        dimension &quot;CHANNEL&quot;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //华为 AppGallery 应用市场</span><br><span class="line">    // AppGallery &#123; 这么写报错「No match found」</span><br><span class="line">    appGallery &#123;</span><br><span class="line">        dimension &quot;CHANNEL&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="异常日志如下"><a href="#异常日志如下" class="headerlink" title="- 异常日志如下"></a>- 异常日志如下</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line">org.gradle.api.ProjectConfigurationException: A problem occurred configuring project &apos;:app&apos;.</span><br><span class="line">at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:94)</span><br><span class="line">at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:89)</span><br><span class="line">at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:70)</span><br><span class="line">at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)</span><br><span class="line">at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)</span><br><span class="line">at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)</span><br><span class="line">at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:666)</span><br><span class="line">at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:135)</span><br><span class="line">at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)</span><br><span class="line">at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)</span><br><span class="line">at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)</span><br><span class="line">at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:249)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)</span><br><span class="line">at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:167)</span><br><span class="line">at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:126)</span><br><span class="line">at org.gradle.initialization.DefaultGradleLauncher.getConfiguredBuild(DefaultGradleLauncher.java:104)</span><br><span class="line">at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:87)</span><br><span class="line">at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:84)</span><br><span class="line">at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)</span><br><span class="line">at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)</span><br><span class="line">at org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:84)</span><br><span class="line">at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:64)</span><br><span class="line">at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)</span><br><span class="line">at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)</span><br><span class="line">at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)</span><br><span class="line">at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)</span><br><span class="line">at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)</span><br><span class="line">at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)</span><br><span class="line">at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)</span><br><span class="line">at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)</span><br><span class="line">at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)</span><br><span class="line">at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)</span><br><span class="line">at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)</span><br><span class="line">at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)</span><br><span class="line">at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)</span><br><span class="line">at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)</span><br><span class="line">at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)</span><br><span class="line">at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)</span><br><span class="line">at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)</span><br><span class="line">at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)</span><br><span class="line">at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)</span><br><span class="line">at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:69)</span><br><span class="line">at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:30)</span><br><span class="line">at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)</span><br><span class="line">at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)</span><br><span class="line">at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)</span><br><span class="line">at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)</span><br><span class="line">at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)</span><br><span class="line">at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)</span><br><span class="line">at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)</span><br><span class="line">at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)</span><br><span class="line">at org.gradle.util.Swapper.swap(Swapper.java:38)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)</span><br><span class="line">at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)</span><br><span class="line">at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)</span><br><span class="line">at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)</span><br><span class="line">at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)</span><br><span class="line">at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)</span><br><span class="line">at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)</span><br><span class="line">at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)</span><br><span class="line">at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)</span><br><span class="line">at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)</span><br><span class="line">at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)</span><br><span class="line">at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)</span><br><span class="line">at java.lang.Thread.run(Thread.java:745)</span><br><span class="line">Caused by: java.lang.IllegalStateException: No match found</span><br><span class="line">at java.util.regex.Matcher.group(Matcher.java:536)</span><br><span class="line">at java_util_regex_MatchResult$group.call(Unknown Source)</span><br><span class="line">at com.google.gms.googleservices.GoogleServicesPlugin.getJsonLocations(GoogleServicesPlugin.groovy:287)</span><br><span class="line">at sun.reflect.GeneratedMethodAccessor611.invoke(Unknown Source)</span><br><span class="line">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)</span><br><span class="line">at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)</span><br><span class="line">at org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrap.invoke(StaticMetaMethodSite.java:133)</span><br><span class="line">at org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.callStatic(StaticMetaMethodSite.java:102)</span><br><span class="line">at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:206)</span><br><span class="line">at com.google.gms.googleservices.GoogleServicesPlugin.handleVariant(GoogleServicesPlugin.groovy:214)</span><br><span class="line">at sun.reflect.GeneratedMethodAccessor610.invoke(Unknown Source)</span><br><span class="line">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)</span><br><span class="line">at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)</span><br><span class="line">at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:479)</span><br><span class="line">at org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:191)</span><br><span class="line">at org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:78)</span><br><span class="line">at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeOnDelegationObjects(ClosureMetaClass.java:430)</span><br><span class="line">at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:369)</span><br><span class="line">at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)</span><br><span class="line">at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:69)</span><br><span class="line">at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:174)</span><br><span class="line">at com.google.gms.googleservices.GoogleServicesPlugin$_setupPlugin_closure5.doCall(GoogleServicesPlugin.groovy:183)</span><br><span class="line">at sun.reflect.GeneratedMethodAccessor609.invoke(Unknown Source)</span><br><span class="line">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)</span><br><span class="line">at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)</span><br><span class="line">at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294)</span><br><span class="line">at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)</span><br><span class="line">at groovy.lang.Closure.call(Closure.java:414)</span><br><span class="line">at groovy.lang.Closure.call(Closure.java:430)</span><br><span class="line">at org.gradle.api.internal.ClosureBackedAction.execute(ClosureBackedAction.java:71)</span><br><span class="line">at org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:160)</span><br><span class="line">at org.gradle.util.ConfigureUtil.configure(ConfigureUtil.java:106)</span><br><span class="line">at org.gradle.util.ConfigureUtil$1.execute(ConfigureUtil.java:123)</span><br><span class="line">at org.gradle.internal.ImmutableActionSet$CompositeSet.execute(ImmutableActionSet.java:196)</span><br><span class="line">at org.gradle.internal.MutableActionSet.execute(MutableActionSet.java:35)</span><br><span class="line">at org.gradle.api.internal.DefaultDomainObjectCollection.doAdd(DefaultDomainObjectCollection.java:204)</span><br><span class="line">at org.gradle.api.internal.DefaultDomainObjectCollection.add(DefaultDomainObjectCollection.java:198)</span><br><span class="line">at com.android.build.gradle.AppExtension.addVariant(AppExtension.java:79)</span><br><span class="line">at com.android.build.gradle.internal.ApiObjectFactory.create(ApiObjectFactory.java:132)</span><br><span class="line">at com.android.build.gradle.BasePlugin.lambda$createAndroidTasks$6(BasePlugin.java:760)</span><br><span class="line">at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:81)</span><br><span class="line">at com.android.build.gradle.BasePlugin.createAndroidTasks(BasePlugin.java:746)</span><br><span class="line">at com.android.build.gradle.BasePlugin.lambda$null$4(BasePlugin.java:652)</span><br><span class="line">at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:81)</span><br><span class="line">at com.android.build.gradle.BasePlugin.lambda$createTasks$5(BasePlugin.java:648)</span><br><span class="line">at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:91)</span><br><span class="line">at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:80)</span><br><span class="line">at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)</span><br><span class="line">at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)</span><br><span class="line">at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)</span><br><span class="line">at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)</span><br><span class="line">at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)</span><br><span class="line">at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)</span><br><span class="line">at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)</span><br><span class="line">at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)</span><br><span class="line">at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)</span><br><span class="line">at com.sun.proxy.$Proxy26.afterEvaluate(Unknown Source)</span><br><span class="line">at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:76)</span><br><span class="line">... 85 more</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;当productFlavors的flavor名以大写字母开头时候，Gradle同步时候会出现「No-match-found」BUG，解决方法flavor名以小写字母开头&quot;&gt;&lt;a href=&quot;#当productFlavors的flavor名以大写字母开头时候，Gra
      
    
    </summary>
    
    
      <category term="Android" scheme="https://seamanz.github.io/tags/Android/"/>
    
      <category term="Gradle" scheme="https://seamanz.github.io/tags/Gradle/"/>
    
      <category term="GooglePlayServices" scheme="https://seamanz.github.io/tags/GooglePlayServices/"/>
    
  </entry>
  
  <entry>
    <title>Android O 自动填充框架BUG及修复</title>
    <link href="https://seamanz.github.io/2018/07/25/Android-O-%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85%E6%A1%86%E6%9E%B6BUG%E5%8F%8A%E4%BF%AE%E5%A4%8D/"/>
    <id>https://seamanz.github.io/2018/07/25/Android-O-自动填充框架BUG及修复/</id>
    <published>2018-07-25T13:34:05.000Z</published>
    <updated>2018-07-25T14:18:41.524Z</updated>
    
    <content type="html"><![CDATA[<h3 id="在平时开发中，给输入框-EditText-设置提示文字的时候，一般通过设置XML中的属性-android-hint-当然也可以通过Java代码设置，但如下样例结合-TextInputLayout-使用的时候，在Android-O-即8-0的系统运行的时候，会出现”java-lang-NullPointerException-Attempt-to-invoke-virtual-method-‘void-android-view-View-getBoundsOnScreen-android-graphics-Rect-’-on-a-null-object-reference”异常。"><a href="#在平时开发中，给输入框-EditText-设置提示文字的时候，一般通过设置XML中的属性-android-hint-当然也可以通过Java代码设置，但如下样例结合-TextInputLayout-使用的时候，在Android-O-即8-0的系统运行的时候，会出现”java-lang-NullPointerException-Attempt-to-invoke-virtual-method-‘void-android-view-View-getBoundsOnScreen-android-graphics-Rect-’-on-a-null-object-reference”异常。" class="headerlink" title="在平时开发中，给输入框 EditText 设置提示文字的时候，一般通过设置XML中的属性 android:hint ,当然也可以通过Java代码设置，但如下样例结合 TextInputLayout 使用的时候，在Android O 即8.0的系统运行的时候，会出现”java.lang.NullPointerException: Attempt to invoke virtual method ‘void android.view.View.getBoundsOnScreen(android.graphics.Rect)’ on a null object reference”异常。"></a>在平时开发中，给输入框 <a href="https://developer.android.google.cn/reference/android/widget/EditText" target="_blank" rel="noopener">EditText</a> 设置提示文字的时候，一般通过设置XML中的属性 <a href="https://developer.android.google.cn/reference/android/widget/TextView.html#attr_android:hint" target="_blank" rel="noopener">android:hint</a> ,当然也可以通过Java代码设置，但如下样例结合 <a href="https://developer.android.google.cn/reference/android/support/design/widget/TextInputLayout" target="_blank" rel="noopener">TextInputLayout</a> 使用的时候，在Android O 即8.0的系统运行的时候，会出现”java.lang.NullPointerException: Attempt to invoke virtual method ‘void android.view.View.getBoundsOnScreen(android.graphics.Rect)’ on a null object reference”异常。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.design.widget.TextInputLayout</span><br><span class="line">       android:layout_width=&quot;match_parent&quot;</span><br><span class="line">       android:layout_height=&quot;wrap_content&quot;&gt;</span><br><span class="line"></span><br><span class="line">       &lt;EditText</span><br><span class="line">           android:layout_width=&quot;match_parent&quot;</span><br><span class="line">           android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">           android:hint=&quot;@string/state&quot;</span><br><span class="line">           android:imeOptions=&quot;actionNext&quot;</span><br><span class="line">           android:inputType=&quot;textCapSentences&quot;</span><br><span class="line">           android:maxLines=&quot;1&quot;</span><br><span class="line">           android:singleLine=&quot;true&quot; /&gt;</span><br><span class="line">   &lt;/android.support.design.widget.TextInputLayout&gt;</span><br></pre></td></tr></table></figure><h3 id="具体异常信息如下，这是已知的系统BUG-Android-O-Preview-3-AssistStructure-View-getBoundsOnScreen-NPE："><a href="#具体异常信息如下，这是已知的系统BUG-Android-O-Preview-3-AssistStructure-View-getBoundsOnScreen-NPE：" class="headerlink" title="具体异常信息如下，这是已知的系统BUG  Android O Preview 3 AssistStructure View.getBoundsOnScreen NPE："></a>具体异常信息如下，这是已知的系统BUG <a href="https://issuetracker.google.com/issues/62834931" target="_blank" rel="noopener"> Android O Preview 3 AssistStructure View.getBoundsOnScreen NPE</a>：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Fatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method &apos;void android.view.View.getBoundsOnScreen(android.graphics.Rect)&apos; on a null object reference</span><br><span class="line">       at android.app.assist.AssistStructure$WindowNode.(AssistStructure.java:484)</span><br><span class="line">       at android.app.assist.AssistStructure.(AssistStructure.java:1908)</span><br><span class="line">       at android.app.ActivityThread.handleRequestAssistContextExtras(ActivityThread.java:3070)</span><br><span class="line">       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1832)</span><br><span class="line">       at android.os.Handler.dispatchMessage(Handler.java:105)</span><br><span class="line">       at android.os.Looper.loop(Looper.java:171)</span><br><span class="line">       at android.app.ActivityThread.main(ActivityThread.java:6688)</span><br><span class="line">       at java.lang.reflect.Method.invoke(Method.java)</span><br><span class="line">       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:246)</span><br><span class="line">       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:783)</span><br></pre></td></tr></table></figure><h3 id="在参考了多种方案，本人感觉比较可靠的方案是把-android-hint-移动到-TextInputLayout-里设置属性："><a href="#在参考了多种方案，本人感觉比较可靠的方案是把-android-hint-移动到-TextInputLayout-里设置属性：" class="headerlink" title="在参考了多种方案，本人感觉比较可靠的方案是把 android:hint 移动到 TextInputLayout 里设置属性："></a>在参考了多种方案，本人感觉比较可靠的方案是把 <a href="https://developer.android.google.cn/reference/android/widget/TextView.html#attr_android:hint" target="_blank" rel="noopener">android:hint</a> 移动到 <a href="https://developer.android.google.cn/reference/android/support/design/widget/TextInputLayout" target="_blank" rel="noopener">TextInputLayout</a> 里设置属性：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.design.widget.TextInputLayout</span><br><span class="line">       android:layout_width=&quot;match_parent&quot;</span><br><span class="line">       android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:hint=&quot;@string/state&quot; &gt;</span><br><span class="line"></span><br><span class="line">       &lt;EditText</span><br><span class="line">           android:layout_width=&quot;match_parent&quot;</span><br><span class="line">           android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">           android:imeOptions=&quot;actionNext&quot;</span><br><span class="line">           android:inputType=&quot;textCapSentences&quot;</span><br><span class="line">           android:maxLines=&quot;1&quot;</span><br><span class="line">           android:singleLine=&quot;true&quot; /&gt;</span><br><span class="line">   &lt;/android.support.design.widget.TextInputLayout&gt;</span><br></pre></td></tr></table></figure><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul><li><p><a href="https://stackoverflow.com/questions/45898228/android-attempt-to-invoke-virtual-method-void-android-view-view-getboundsonsc" target="_blank" rel="noopener">Android - Attempt to invoke virtual method ‘void android.view.View.getBoundsOnScreen(android.graphics.Rect)’ on a null object reference</a></p></li><li><p><a href="https://github.com/FlowCrypt/flowcrypt-android/issues/249" target="_blank" rel="noopener">flowcrypt-android/issues/249</a></p></li><li><p><a href="https://github.com/FlowCrypt/flowcrypt-android/commit/18f83cf42c51c2c5f7fbe4ff07744beafd6c69bb" target="_blank" rel="noopener">owcrypt-android/commit/18f83cf42c51c2c5f7fbe4ff07744beafd6c69bb</a></p></li></ul><ul><li><p><a href="https://exceptionshub.com/android-8-0-oreo-crash-on-focusing-textinputedittext.html" target="_blank" rel="noopener">Android 8.0 Oreo crash on focusing TextInputEditText1</a></p></li><li><p><a href="https://stackoverflow.com/questions/45840856/android-8-0-oreo-crash-on-focusing-textinputedittext" target="_blank" rel="noopener">Android 8.0 Oreo crash on focusing TextInputEditText<br>2</a></p></li><li><p><a href="https://stackoverflow.com/questions/45731372/disabling-android-o-auto-fill-service-for-an-application/47021399#47021399" target="_blank" rel="noopener">Disabling Android O auto-fill service for an application</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;在平时开发中，给输入框-EditText-设置提示文字的时候，一般通过设置XML中的属性-android-hint-当然也可以通过Java代码设置，但如下样例结合-TextInputLayout-使用的时候，在Android-O-即8-0的系统运行的时候，会出现”
      
    
    </summary>
    
    
      <category term="Android" scheme="https://seamanz.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android 获取程序运行时进程名的方法</title>
    <link href="https://seamanz.github.io/2018/07/18/Android-%E8%8E%B7%E5%8F%96%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E6%97%B6%E8%BF%9B%E7%A8%8B%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>https://seamanz.github.io/2018/07/18/Android-获取程序运行时进程名的方法/</id>
    <published>2018-07-18T15:03:51.000Z</published>
    <updated>2018-07-18T15:29:43.022Z</updated>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><h5 id="在Android应用中，可以把四大组件（Activity-Service-ContentProvider-BroadcastReceiver）放在不同进程中运行，所以应用的的一些基础配置在初始化的时候，需要考虑不同进程的问题。"><a href="#在Android应用中，可以把四大组件（Activity-Service-ContentProvider-BroadcastReceiver）放在不同进程中运行，所以应用的的一些基础配置在初始化的时候，需要考虑不同进程的问题。" class="headerlink" title="在Android应用中，可以把四大组件（Activity,Service,ContentProvider,BroadcastReceiver）放在不同进程中运行，所以应用的的一些基础配置在初始化的时候，需要考虑不同进程的问题。"></a>在Android应用中，可以把四大组件（Activity,Service,ContentProvider,BroadcastReceiver）放在不同进程中运行，所以应用的的一些基础配置在初始化的时候，需要考虑不同进程的问题。</h5><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">//判断当前运行进程是否是主进程</span><br><span class="line">public static boolean isMainProcess(Application app) &#123;</span><br><span class="line">    //优先通过反射取进程名</span><br><span class="line">    String processName = getProcessNameByReflection(app);</span><br><span class="line"></span><br><span class="line">    if (TextUtils.isEmpty(processName)) &#123;</span><br><span class="line">        processName = getProcessNameByCmdline();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (TextUtils.isEmpty(processName)) &#123;</span><br><span class="line">        processName = getProcessNameByAM(app);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return app.getPackageName().equals(processName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static String getProcessNameByAM(Context context) &#123;</span><br><span class="line">    final int pid = android.os.Process.myPid();</span><br><span class="line">    final ActivityManager manager = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);</span><br><span class="line">    String processName = null;</span><br><span class="line">    if (manager != null) &#123;</span><br><span class="line">        final List&lt;ActivityManager.RunningAppProcessInfo&gt; infoList = manager.getRunningAppProcesses();</span><br><span class="line">        if (infoList != null) &#123;</span><br><span class="line">            for (ActivityManager.RunningAppProcessInfo info : infoList) &#123;</span><br><span class="line">                if (info.pid == pid) &#123;</span><br><span class="line">                    processName = info.processName;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return processName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static String getProcessNameByCmdline() &#123;</span><br><span class="line">    String processName = null;</span><br><span class="line">    BufferedReader cmdlineReader = null;</span><br><span class="line">    try &#123;</span><br><span class="line">        cmdlineReader = new BufferedReader(new InputStreamReader(</span><br><span class="line">                new FileInputStream(&quot;/proc/&quot; + android.os.Process.myPid() + &quot;/cmdline&quot;),</span><br><span class="line">                &quot;iso-8859-1&quot;));</span><br><span class="line">        int c;</span><br><span class="line">        StringBuilder sb = new StringBuilder();</span><br><span class="line">        while ((c = cmdlineReader.read()) &gt; 0) &#123;</span><br><span class="line">            sb.append((char) c);</span><br><span class="line">        &#125;</span><br><span class="line">        processName = sb.toString();</span><br><span class="line">    &#125; catch (Exception e) &#123;</span><br><span class="line">        Timber.e(e);</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">        if (cmdlineReader != null) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                cmdlineReader.close();</span><br><span class="line">            &#125; catch (IOException ignored) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return processName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static String getProcessNameByReflection(Application app) &#123;</span><br><span class="line">    String processName = null;</span><br><span class="line">    try &#123;</span><br><span class="line">        Field loadedApkField = app.getClass().getField(&quot;mLoadedApk&quot;);</span><br><span class="line">        loadedApkField.setAccessible(true);</span><br><span class="line">        Object loadedApk = loadedApkField.get(app);</span><br><span class="line"></span><br><span class="line">        Field activityThreadField = loadedApk.getClass().getDeclaredField(&quot;mActivityThread&quot;);</span><br><span class="line">        activityThreadField.setAccessible(true);</span><br><span class="line">        Object activityThread = activityThreadField.get(loadedApk);</span><br><span class="line"></span><br><span class="line">        Method getProcessName = activityThread.getClass().getDeclaredMethod(&quot;getProcessName&quot;);</span><br><span class="line">        processName = (String) getProcessName.invoke(activityThread);</span><br><span class="line">    &#125; catch (Exception e) &#123;</span><br><span class="line">        Timber.e(e);</span><br><span class="line">    &#125;</span><br><span class="line">    return processName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><ul><li><a href="//https://stackoverflow.com/questions/19631894/is-there-a-way-to-get-current-process-name-in-android">is-there-a-way-to-get-current-process-name-in-android</a></li><li><a href="http://androidxref.com/6.0.1_r10/xref/frameworks/base/core/java/android/app/ActivityThread.java#437" target="_blank" rel="noopener">ActivityThread</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h3&gt;&lt;h5 id=&quot;在Android应用中，可以把四大组件（Activity-Service-ContentProvider-BroadcastRec
      
    
    </summary>
    
    
      <category term="Android" scheme="https://seamanz.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>工作中常用的git命令</title>
    <link href="https://seamanz.github.io/2018/07/08/%E5%B7%A5%E4%BD%9C%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84git%E5%91%BD%E4%BB%A4/"/>
    <id>https://seamanz.github.io/2018/07/08/工作中常用的git命令/</id>
    <published>2018-07-08T08:14:20.000Z</published>
    <updated>2018-08-08T15:43:33.292Z</updated>
    
    <content type="html"><![CDATA[<ul><li><h2 id="初始化仓库（init）"><a href="#初始化仓库（init）" class="headerlink" title="初始化仓库（init）"></a>初始化仓库（<a href="https://git.github.io/htmldocs/git-init.html" target="_blank" rel="noopener">init</a>）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git init [-q | --quiet] [--bare] [--template=&lt;template_directory&gt;]</span><br><span class="line">          [--separate-git-dir &lt;git dir&gt;]</span><br><span class="line">          [--shared[=&lt;permissions&gt;]] [directory]</span><br></pre></td></tr></table></figure></li></ul><h5 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cd /path/to/my/codebase</span><br><span class="line">$ git init      &lt;1&gt;</span><br><span class="line">$ git add .     &lt;2&gt;</span><br><span class="line">$ git commit    &lt;3&gt;</span><br></pre></td></tr></table></figure><h5 id="1-Create-a-path-to-my-codebase-git-directory"><a href="#1-Create-a-path-to-my-codebase-git-directory" class="headerlink" title="1. Create a /path/to/my/codebase/.git directory."></a>1. Create a /path/to/my/codebase/.git directory.</h5><h5 id="2-Add-all-existing-files-to-the-index"><a href="#2-Add-all-existing-files-to-the-index" class="headerlink" title="2. Add all existing files to the index."></a>2. Add all existing files to the index.</h5><h5 id="3-Record-the-pristine-state-as-the-first-commit-in-the-history"><a href="#3-Record-the-pristine-state-as-the-first-commit-in-the-history" class="headerlink" title="3. Record the pristine state as the first commit in the history."></a>3. Record the pristine state as the first commit in the history.</h5><ul><li><h2 id="推送（push）"><a href="#推送（push）" class="headerlink" title="推送（push）"></a>推送（<a href="https://git.github.io/htmldocs/git-push.html" target="_blank" rel="noopener">push</a>）</h2></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git push [--all | --mirror | --tags] [--follow-tags] [--atomic] [-n | --dry-run] [--receive-pack=&lt;git-receive-pack&gt;]</span><br><span class="line">           [--repo=&lt;repository&gt;] [-f | --force] [-d | --delete] [--prune] [-v | --verbose]</span><br><span class="line">           [-u | --set-upstream] [-o &lt;string&gt; | --push-option=&lt;string&gt;]</span><br><span class="line">           [--[no-]signed|--signed=(true|false|if-asked)]</span><br><span class="line">           [--force-with-lease[=&lt;refname&gt;[:&lt;expect&gt;]]]</span><br><span class="line">           [--no-verify] [&lt;repository&gt; [&lt;refspec&gt;…]]</span><br></pre></td></tr></table></figure><h3 id="1-推送本地仓库分支到对应远程仓库分支"><a href="#1-推送本地仓库分支到对应远程仓库分支" class="headerlink" title="1. 推送本地仓库分支到对应远程仓库分支"></a>1. 推送本地仓库分支到对应远程仓库分支</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure><h3 id="2-推送本地库分支到远程库对应分支-包含新打的标签"><a href="#2-推送本地库分支到远程库对应分支-包含新打的标签" class="headerlink" title="2. 推送本地库分支到远程库对应分支(包含新打的标签)"></a>2. 推送本地库分支到远程库对应分支(包含新打的标签)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --tags origin master</span><br></pre></td></tr></table></figure><ul><li><h2 id="分支（-branch）"><a href="#分支（-branch）" class="headerlink" title="分支（ branch）"></a>分支（ <a href="https://git.github.io/htmldocs/git-branch.html" target="_blank" rel="noopener">branch</a>）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git branch [--color[=&lt;when&gt;] | --no-color] [-r | -a]</span><br><span class="line">        [--list] [-v [--abbrev=&lt;length&gt; | --no-abbrev]]</span><br><span class="line">        [--column[=&lt;options&gt;] | --no-column] [--sort=&lt;key&gt;]</span><br><span class="line">        [(--merged | --no-merged) [&lt;commit&gt;]]</span><br><span class="line">        [--contains [&lt;commit]] [--no-contains [&lt;commit&gt;]]</span><br><span class="line">        [--points-at &lt;object&gt;] [--format=&lt;format&gt;] [&lt;pattern&gt;…]</span><br><span class="line">git branch [--track | --no-track] [-l] [-f] &lt;branchname&gt; [&lt;start-point&gt;]</span><br><span class="line">git branch (--set-upstream-to=&lt;upstream&gt; | -u &lt;upstream&gt;) [&lt;branchname&gt;]</span><br><span class="line">git branch --unset-upstream [&lt;branchname&gt;]</span><br><span class="line">git branch (-m | -M) [&lt;oldbranch&gt;] &lt;newbranch&gt;</span><br><span class="line">git branch (-c | -C) [&lt;oldbranch&gt;] &lt;newbranch&gt;</span><br><span class="line">git branch (-d | -D) [-r] &lt;branchname&gt;…</span><br><span class="line">git branch --edit-description [&lt;branchname&gt;] &lt;commit&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="1-重命名本地分支"><a href="#1-重命名本地分支" class="headerlink" title="1. 重命名本地分支"></a>1. 重命名本地分支</h3><h5 id="命令格式："><a href="#命令格式：" class="headerlink" title="命令格式："></a>命令格式：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch (-m | -M) [&lt;oldbranch&gt;] &lt;newbranch&gt;</span><br></pre></td></tr></table></figure><h5 id="样例："><a href="#样例：" class="headerlink" title="样例："></a>样例：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -m develop newdevelop</span><br></pre></td></tr></table></figure><ul><li><h3 id="储藏（stash）"><a href="#储藏（stash）" class="headerlink" title="储藏（stash）"></a>储藏（<a href="https://git.github.io/htmldocs/git-stash.html" target="_blank" rel="noopener">stash</a>）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git stash list [&lt;options&gt;]</span><br><span class="line">git stash show [&lt;stash&gt;]</span><br><span class="line">git stash drop [-q|--quiet] [&lt;stash&gt;]</span><br><span class="line">git stash ( pop | apply ) [--index] [-q|--quiet] [&lt;stash&gt;]</span><br><span class="line">git stash branch &lt;branchname&gt; [&lt;stash&gt;]</span><br><span class="line">git stash [push [-p|--patch] [-k|--[no-]keep-index] [-q|--quiet]</span><br><span class="line">             [-u|--include-untracked] [-a|--all] [-m|--message &lt;message&gt;]</span><br><span class="line">             [--] [&lt;pathspec&gt;…]]</span><br><span class="line">git stash clear</span><br><span class="line">git stash create [&lt;message&gt;]</span><br><span class="line">git stash store [-m|--message &lt;message&gt;] [-q|--quiet] &lt;commit&gt;</span><br></pre></td></tr></table></figure></li><li><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><h5 id="1-Github文档"><a href="#1-Github文档" class="headerlink" title="1. Github文档"></a>1. <a href="https://git.github.io/htmldocs/git.html" target="_blank" rel="noopener">Github文档</a></h5><h5 id="2-官方文档"><a href="#2-官方文档" class="headerlink" title="2. 官方文档"></a>2. <a href="https://git-scm.com/book/zh" target="_blank" rel="noopener">官方文档</a></h5></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;&lt;h2 id=&quot;初始化仓库（init）&quot;&gt;&lt;a href=&quot;#初始化仓库（init）&quot; class=&quot;headerlink&quot; title=&quot;初始化仓库（init）&quot;&gt;&lt;/a&gt;初始化仓库（&lt;a href=&quot;https://git.github.io/htmldoc
      
    
    </summary>
    
    
      <category term="git" scheme="https://seamanz.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://seamanz.github.io/2018/07/08/hello-world/"/>
    <id>https://seamanz.github.io/2018/07/08/hello-world/</id>
    <published>2018-07-08T02:55:06.036Z</published>
    <updated>2018-07-08T08:04:20.558Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
